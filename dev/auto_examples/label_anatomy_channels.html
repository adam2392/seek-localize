<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>01. Label Anatomy of Electrodes &#8212; seek_localize 0.2.0dev documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          SEEK-localize</a>
        <span class="navbar-text navbar-version pull-left"><b>0.2.0dev</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../whats_new.html">News</a></li>
                <li><a href="../installation.html">Install</a></li>
                <li><a href="index.html">Examples</a></li>
                <li><a href="../api.html">API</a></li>
                <li><a href="../contributing.html">Contribute!</a></li>
                <li><a href="https://github.com/adam2392/seek_localize">GitHub</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
<div class="navbar-form navbar-right navbar-btn dropdown btn-group-sm" style="margin-left: 20px; margin-top: 5px; margin-bottom: 5px">
  <button type="button" class="btn btn-primary navbar-btn dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown">
    v0.2.0dev
    <span class="caret"></span>
  </button>
<!--  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">-->
<!--    <li><a href="https://mne.tools/mne-bids/dev/index.html">Development</a></li>-->
<!--    <li><a href="https://mne.tools/mne-bids/stable/index.html">Stable</a></li>-->
<!--    <li><a href="https://mne.tools/mne-bids/v0.4/index.html">v0.4</a></li>-->
<!--    <li><a href="https://mne.tools/mne-bids/v0.3/index.html">v0.3</a></li>-->
<!--    <li><a href="https://mne.tools/mne-bids/v0.2/index.html">v0.2</a></li>-->
<!--    <li><a href="https://mne.tools/mne-bids/v0.1/index.html">v0.1</a></li>-->
<!--  </ul>-->
</div>


            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">01. Label Anatomy of Electrodes</a><ul>
<li><a class="reference internal" href="#step-1-imports">Step 1: Imports</a></li>
<li><a class="reference internal" href="#step-2-explore-the-dataset-contents">Step 2: Explore the dataset contents</a></li>
<li><a class="reference internal" href="#step-3-label-the-anatomy-of-electrodes">Step 3: Label the anatomy of electrodes</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-examples-label-anatomy-channels-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="label-anatomy-of-electrodes">
<span id="label-anatomy-channels-example"></span><span id="sphx-glr-auto-examples-label-anatomy-channels-py"></span><h1>01. Label Anatomy of Electrodes<a class="headerlink" href="#label-anatomy-of-electrodes" title="Permalink to this headline">¶</a></h1>
<p>When working with intracranial electrophysiological data in the
BIDS format, we usually have</p>
<ul class="simple">
<li><p>iEEG (ECoG and SEEG)</p></li>
<li><p>the anatomical MRI scan of a study participant</p></li>
<li><p>the CT scan of the study participant with iEEG electrodes implanted</p></li>
</ul>
<p>In this tutorial, we show how <code class="docutils literal notranslate"><span class="pre">label_elecs_anat</span></code> can be used to
quickly and easily label anatomy of electrodes.</p>
<p>We assume that you have already localized the electrodes and coregistered
them over to the T1w image FreeSurfer space.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Authors: Adam Li &lt;adam2392@gmail.com&gt;</span>
<span class="c1">#</span>
<span class="c1"># License: BSD (3-clause)</span>
</pre></div>
</div>
<div class="section" id="step-1-imports">
<h2>Step 1: Imports<a class="headerlink" href="#step-1-imports" title="Permalink to this headline">¶</a></h2>
<p>We are importing everything we need for this example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="pathlib.Path" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class"><span class="n">Path</span></a>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">mne_bids</span> <span class="kn">import</span> <span class="n">BIDSPath</span><span class="p">,</span> <span class="n">print_dir_tree</span><span class="p">,</span> <span class="n">make_report</span>

<span class="kn">from</span> <span class="nn">seek_localize</span> <span class="kn">import</span> <a href="../generated/seek_localize.label_elecs_anat.html#seek_localize.label_elecs_anat" title="seek_localize.label_elecs_anat" class="sphx-glr-backref-module-seek_localize sphx-glr-backref-type-py-function"><span class="n">label_elecs_anat</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fs_lut_fpath</span></a>
</pre></div>
</div>
<p>We will be using the <em class="xref py py-obj">testing dataset</em>, which
is already stored in BIDS format and stored with the
<code class="docutils literal notranslate"><span class="pre">seek-localize</span></code> repository.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_root</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.cwd" title="pathlib.Path.cwd" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-method"><span class="n">Path</span><span class="o">.</span><span class="n">cwd</span></a><span class="p">()</span> <span class="o">/</span> <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="pathlib.Path" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class"><span class="n">Path</span></a><span class="p">(</span><span class="s2">&quot;../data/&quot;</span><span class="p">)</span>
<a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fs_root</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_root</span></a> <span class="o">/</span> <span class="s2">&quot;derivatives&quot;</span> <span class="o">/</span> <span class="s2">&quot;freesurfer&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="step-2-explore-the-dataset-contents">
<h2>Step 2: Explore the dataset contents<a class="headerlink" href="#step-2-explore-the-dataset-contents" title="Permalink to this headline">¶</a></h2>
<p>We can use MNE-BIDS to print a tree of all
included files and folders. We pass the <code class="docutils literal notranslate"><span class="pre">max_depth</span></code> parameter to
<a class="reference external" href="https://mne.tools/mne-bids/dev/generated/mne_bids.print_dir_tree.html#mne_bids.print_dir_tree" title="(in mne_bids v0.7.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mne_bids.print_dir_tree</span></code></a> to the output to three levels of folders, for
better readability in this example.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">print_dir_tree</span><span class="p">(</span><a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_root</span></a><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>|data/
|--- .bidsignore
|--- dataset_description.json
|--- participants.json
|--- participants.tsv
|--- derivatives/
|------ fieldtrip/
|--------- stolk/
|------ freesurfer/
|--------- sub-la02/
|--------- sub-test/
|--- sub-la02/
|------ ses-presurgery/
|--------- anat/
|--------- ct/
|--------- ieeg/
|--- sub-test/
|------ anat/
|--------- sub-test_space-fs_T1w.nii
|------ ieeg/
|--------- sub-test_acq-seeg_space-fs_coordsystem.json
|--------- sub-test_acq-seeg_space-fs_electrodes.json
|--------- sub-test_acq-seeg_space-fs_electrodes.tsv
</pre></div>
</div>
<p>We can even ask MNE-BIDS to produce a human-readable summary report
on the dataset contents.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">make_report</span><span class="p">(</span><a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_root</span></a><span class="p">))</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Summarizing participants.tsv /home/circleci/project/examples/../data/participants.tsv...
/home/circleci/project/examples/label_anatomy_channels.py:63: RuntimeWarning: No *scans.tsv files found. Currently, we do not generate a report without the scans.tsv files.
  print(make_report(bids_root))
The participant template found: comprised of 0 men and 2 women;
comprised of 2 right hand, 0 left hand and 0 ambidextrous; ages all unknown
The Test-Dataset dataset was created with BIDS version 1.4.0 by Adam Li. This
report was generated with MNE-BIDS (https://doi.org/10.21105/joss.01896). The
dataset consists of 2 participants (comprised of 0 men and 2 women; comprised of
2 right hand, 0 left hand and 0 ambidextrous; ages all unknown)and 1 recording
sessions: presurgery.
</pre></div>
</div>
</div>
<div class="section" id="step-3-label-the-anatomy-of-electrodes">
<h2>Step 3: Label the anatomy of electrodes<a class="headerlink" href="#step-3-label-the-anatomy-of-electrodes" title="Permalink to this headline">¶</a></h2>
<p>Now it’s time to get ready for labeling some of the data! First, we need to
create a <code class="xref py py-func docutils literal notranslate"><span class="pre">mne_bids.BIDSPath()</span></code>, which will point to the corresponding
<code class="docutils literal notranslate"><span class="pre">*electrodes.tsv</span></code> file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">subject</span></a> <span class="o">=</span> <span class="s2">&quot;la02&quot;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">session</span></a> <span class="o">=</span> <span class="s2">&quot;presurgery&quot;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">acquisition</span></a> <span class="o">=</span> <span class="s2">&quot;seeg&quot;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">space</span></a> <span class="o">=</span> <span class="s2">&quot;fs&quot;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">suffix</span></a> <span class="o">=</span> <span class="s2">&quot;electrodes&quot;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">extension</span></a> <span class="o">=</span> <span class="s2">&quot;.tsv&quot;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">datatype</span></a> <span class="o">=</span> <span class="s2">&quot;ieeg&quot;</span>
<span class="n">bids_path</span> <span class="o">=</span> <span class="n">BIDSPath</span><span class="p">(</span>
    <span class="n">root</span><span class="o">=</span><a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">bids_root</span></a><span class="p">,</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">datatype</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">datatype</span></a><span class="p">,</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">subject</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">subject</span></a><span class="p">,</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">session</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">session</span></a><span class="p">,</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">acquisition</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">acquisition</span></a><span class="p">,</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">space</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">space</span></a><span class="p">,</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">suffix</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">suffix</span></a><span class="p">,</span>
    <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">extension</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">extension</span></a><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># the full file path to the electrodes.tsv file</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bids_path</span><span class="o">.</span><span class="n">fpath</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>/home/circleci/project/examples/../data/sub-la02/ses-presurgery/ieeg/sub-la02_ses-presurgery_acq-seeg_space-fs_electrodes.tsv
</pre></div>
</div>
<p>The necessary iEEG files are the
<code class="docutils literal notranslate"><span class="pre">sub-la02_ses-presurgery_acq-seeg_space-fs_electrodes.tsv</span></code>,
<code class="docutils literal notranslate"><span class="pre">sub-la02_ses-presurgery_acq-seeg_space-fs_coordsystem.json</span></code> files. Note
these are co-occurring files in <a class="reference external" href="https://bids-specification.readthedocs.io/en/stable/04-modality-specific-files/04-intracranial-electroencephalography.html">iEEG-BIDS</a> (one present requires the other to
be present).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">coordsystem_fpath</span> <span class="o">=</span> <span class="n">bids_path</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">suffix</span></a><span class="o">=</span><span class="s2">&quot;coordsystem&quot;</span><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">extension</span></a><span class="o">=</span><span class="s2">&quot;.json&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">coordsystem_fpath</span><span class="o">.</span><span class="n">fpath</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>/home/circleci/project/examples/../data/sub-la02/ses-presurgery/ieeg/sub-la02_ses-presurgery_acq-seeg_space-fs_coordsystem.json
</pre></div>
</div>
<p>Let’s explore the contents of the current electrodes.tsv file.
Note that the current data already has the atlas labels, so we
pretend they are not there and only read in the bare minimum columns.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">elec_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="n">bids_path</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">elec_df</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>    name  ...          z
0    L&#39;1  ...  35.287211
1    L&#39;2  ...  35.308774
2    L&#39;3  ...  35.474825
3    L&#39;4  ...  36.440106
4    L&#39;5  ...  36.434484
..   ...  ...        ...
83  X&#39;12  ...  63.267809
84  X&#39;13  ...  64.402526
85  X&#39;14  ...  65.398302
86  X&#39;15  ...  66.400773
87  X&#39;16  ...  67.544440

[88 rows x 4 columns]
</pre></div>
</div>
<p>The necessary imaging files are the
<code class="docutils literal notranslate"><span class="pre">sub-la02_ses-presurgery_space-fs_T1w.nii</span></code> file, which the electrode
coordinates are assumed to be in.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">atlas_img_fpath</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fs_root</span></a> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;sub-</span><span class="si">{</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">subject</span></a><span class="si">}</span><span class="s2">&quot;</span> <span class="o">/</span> <span class="s2">&quot;mri&quot;</span> <span class="o">/</span> <span class="s2">&quot;aparc+aseg.mgz&quot;</span>
</pre></div>
</div>
<p>Now let’s label the anatomy!
Note: seek_localize.fs_lut_fpath provides the file path to a local
<code class="docutils literal notranslate"><span class="pre">FreeSurferColorLUT.txt</span></code> file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">elec_df</span> <span class="o">=</span> <a href="../generated/seek_localize.label_elecs_anat.html#seek_localize.label_elecs_anat" title="seek_localize.label_elecs_anat" class="sphx-glr-backref-module-seek_localize sphx-glr-backref-type-py-function"><span class="n">label_elecs_anat</span></a><span class="p">(</span><span class="n">bids_path</span><span class="p">,</span> <a href="https://docs.python.org/3/library/pathlib.html#pathlib.PosixPath" title="pathlib.PosixPath" class="sphx-glr-backref-module-pathlib sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">atlas_img_fpath</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fs_lut_fpath</span></a><span class="o">=</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">fs_lut_fpath</span></a><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">elec_df</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Loading lookup table for freesurfer labels: ../seek_localize/templates/FreeSurferColorLUT.txt
SETTING COORDINATE SYSTEM AS MRI by default if coordinatesystem is &quot;other&quot;.
&lt;Sensors | 9 non-empty values
 ch_names: L&#39;1, L&#39;2, L&#39;3, L&#39;4, L&#39;5, L&#39;6, L&#39;7, L&#39;8, L&#39;11, L&#39;12, L&#39;13, L&#39;14, ...
 coord_system: mri
 coord_unit: mm
 coordsystem_fname: /home/circleci/project/examples/../data/sub-la02/ses-presurgery/ieeg/sub-la02_ses-presurgery_acq-seeg_space-fs_coordsystem.json
 elecs_fname: /home/circleci/project/examples/../data/sub-la02/ses-presurgery/ieeg/sub-la02_ses-presurgery_acq-seeg_space-fs_electrodes.tsv
 intended_for: /home/circleci/project/examples/../data/sub-la02/ses-presurgery/anat/sub-la02_ses-presurgery_space-fs_T1w.nii
 x: 88 items (list)
 y: 88 items (list)
 z: 88 items (list)
&gt;
Converting to voxel mri space because electrodes are in mm space.
Converting coordinates from mm to voxel using /home/circleci/project/examples/../data/sub-la02/ses-presurgery/anat/sub-la02_ses-presurgery_space-fs_T1w.nii.
Labeling electrodes...
E0, Vox CRS: [128 124 188], Label #ctx-lh-superiorfrontal
E1, Vox CRS: [131 124 190], Label #ctx-lh-superiorfrontal
E2, Vox CRS: [134 124 189], Label #ctx-lh-superiorfrontal
E3, Vox CRS: [137 123 189], Label #ctx-lh-superiorfrontal
E4, Vox CRS: [141 123 190], Label #ctx-lh-superiorfrontal
E5, Vox CRS: [144 123 190], Label #Left-Cerebral-White-Matter
E6, Vox CRS: [148 123 191], Label #Left-Cerebral-White-Matter
E7, Vox CRS: [152 123 192], Label #Left-Cerebral-White-Matter
E8, Vox CRS: [162 122 193], Label #Left-Cerebral-White-Matter
E9, Vox CRS: [166 122 194], Label #ctx-lh-rostralmiddlefrontal
E10, Vox CRS: [168 122 194], Label #ctx-lh-rostralmiddlefrontal
E11, Vox CRS: [172 121 195], Label #Unknown
E12, Vox CRS: [127 104 177], Label #Unknown
E13, Vox CRS: [130 103 177], Label #ctx-lh-superiorfrontal
E14, Vox CRS: [133 102 177], Label #Unknown
E15, Vox CRS: [136 101 177], Label #ctx-lh-superiorfrontal
E16, Vox CRS: [140 100 178], Label #Left-Cerebral-White-Matter
E17, Vox CRS: [143 100 178], Label #ctx-lh-superiorfrontal
E18, Vox CRS: [147  99 179], Label #ctx-lh-superiorfrontal
E19, Vox CRS: [155 122 192], Label #ctx-lh-rostralmiddlefrontal
E20, Vox CRS: [158 122 193], Label #ctx-lh-rostralmiddlefrontal
E21, Vox CRS: [151  98 179], Label #ctx-lh-rostralmiddlefrontal
E22, Vox CRS: [153  98 180], Label #ctx-lh-rostralmiddlefrontal
E23, Vox CRS: [157  97 180], Label #ctx-lh-rostralmiddlefrontal
E24, Vox CRS: [161  96 180], Label #ctx-lh-rostralmiddlefrontal
E25, Vox CRS: [165  95 181], Label #Unknown
E26, Vox CRS: [126 138 185], Label #ctx-rh-medialorbitofrontal
E27, Vox CRS: [130 138 186], Label #ctx-lh-rostralanteriorcingulate
E28, Vox CRS: [134 138 187], Label #ctx-lh-rostralanteriorcingulate
E29, Vox CRS: [137 138 187], Label #Unknown
E30, Vox CRS: [141 138 187], Label #ctx-lh-medialorbitofrontal
E31, Vox CRS: [144 138 187], Label #Left-Cerebral-White-Matter
E32, Vox CRS: [148 138 187], Label #Left-Cerebral-White-Matter
E33, Vox CRS: [151 137 188], Label #Left-Cerebral-White-Matter
E34, Vox CRS: [155 138 189], Label #Left-Cerebral-White-Matter
E35, Vox CRS: [158 138 189], Label #ctx-lh-rostralmiddlefrontal
E36, Vox CRS: [162 138 190], Label #ctx-lh-rostralmiddlefrontal
E37, Vox CRS: [165 138 191], Label #ctx-lh-rostralmiddlefrontal
E38, Vox CRS: [169 138 191], Label #ctx-lh-rostralmiddlefrontal
E39, Vox CRS: [172 138 191], Label #ctx-lh-rostralmiddlefrontal
E40, Vox CRS: [129 154 165], Label #ctx-rh-medialorbitofrontal
E41, Vox CRS: [133 153 166], Label #ctx-lh-medialorbitofrontal
E42, Vox CRS: [137 152 166], Label #ctx-lh-medialorbitofrontal
E43, Vox CRS: [140 152 167], Label #ctx-lh-lateralorbitofrontal
E44, Vox CRS: [143 151 168], Label #Left-Cerebral-White-Matter
E45, Vox CRS: [147 150 168], Label #ctx-lh-lateralorbitofrontal
E46, Vox CRS: [150 149 168], Label #Unknown
E47, Vox CRS: [153 149 169], Label #ctx-lh-lateralorbitofrontal
E48, Vox CRS: [157 148 169], Label #ctx-lh-lateralorbitofrontal
E49, Vox CRS: [160 147 169], Label #Left-Cerebral-White-Matter
E50, Vox CRS: [164 146 170], Label #ctx-lh-lateralorbitofrontal
E51, Vox CRS: [167 146 170], Label #ctx-lh-lateralorbitofrontal
E52, Vox CRS: [170 145 171], Label #ctx-lh-parsorbitalis
E53, Vox CRS: [174 144 171], Label #ctx-lh-parsorbitalis
E54, Vox CRS: [178 144 171], Label #ctx-lh-parsorbitalis
E55, Vox CRS: [179 144 171], Label #Unknown
E56, Vox CRS: [127 124 175], Label #Unknown
E57, Vox CRS: [130 124 175], Label #ctx-lh-rostralanteriorcingulate
E58, Vox CRS: [133 124 177], Label #ctx-lh-rostralanteriorcingulate
E59, Vox CRS: [137 124 177], Label #ctx-lh-rostralanteriorcingulate
E60, Vox CRS: [140 124 178], Label #Left-Cerebral-White-Matter
E61, Vox CRS: [144 123 178], Label #Left-Cerebral-White-Matter
E62, Vox CRS: [147 123 178], Label #Left-Cerebral-White-Matter
E63, Vox CRS: [151 123 178], Label #Left-Cerebral-White-Matter
E64, Vox CRS: [154 123 179], Label #Left-Cerebral-White-Matter
E65, Vox CRS: [158 123 179], Label #ctx-lh-rostralmiddlefrontal
E66, Vox CRS: [161 123 180], Label #Unknown
E67, Vox CRS: [165 123 180], Label #ctx-lh-parstriangularis
E68, Vox CRS: [168 123 180], Label #Left-Cerebral-White-Matter
E69, Vox CRS: [171 123 181], Label #Left-Cerebral-White-Matter
E70, Vox CRS: [176 123 181], Label #Left-Cerebral-White-Matter
E71, Vox CRS: [178 123 182], Label #ctx-lh-parstriangularis
E72, Vox CRS: [127 109 150], Label #Unknown
E73, Vox CRS: [129 108 150], Label #ctx-lh-caudalanteriorcingulate
E74, Vox CRS: [133 106 150], Label #Left-Cerebral-White-Matter
E75, Vox CRS: [137 105 151], Label #Left-Cerebral-White-Matter
E76, Vox CRS: [141 104 151], Label #Left-Cerebral-White-Matter
E77, Vox CRS: [144 103 151], Label #Left-Cerebral-White-Matter
E78, Vox CRS: [147 102 151], Label #Left-Cerebral-White-Matter
E79, Vox CRS: [150 101 152], Label #Left-Cerebral-White-Matter
E80, Vox CRS: [154  99 152], Label #Left-Cerebral-White-Matter
E81, Vox CRS: [157  98 152], Label #Left-Cerebral-White-Matter
E82, Vox CRS: [159  97 152], Label #ctx-lh-caudalmiddlefrontal
E83, Vox CRS: [163  96 153], Label #ctx-lh-caudalmiddlefrontal
E84, Vox CRS: [167  95 153], Label #ctx-lh-caudalmiddlefrontal
E85, Vox CRS: [170  94 154], Label #ctx-lh-caudalmiddlefrontal
E86, Vox CRS: [173  93 154], Label #ctx-lh-caudalmiddlefrontal
E87, Vox CRS: [177  92 154], Label #Unknown
    name  ...            desikan-killiany
0    L&#39;1  ...      ctx-lh-superiorfrontal
1    L&#39;2  ...      ctx-lh-superiorfrontal
2    L&#39;3  ...      ctx-lh-superiorfrontal
3    L&#39;4  ...      ctx-lh-superiorfrontal
4    L&#39;5  ...      ctx-lh-superiorfrontal
..   ...  ...                         ...
83  X&#39;12  ...  ctx-lh-caudalmiddlefrontal
84  X&#39;13  ...  ctx-lh-caudalmiddlefrontal
85  X&#39;14  ...  ctx-lh-caudalmiddlefrontal
86  X&#39;15  ...  ctx-lh-caudalmiddlefrontal
87  X&#39;16  ...                     Unknown

[88 rows x 6 columns]
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  0.687 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-label-anatomy-channels-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/3ff25578f5a978a602b9a9504275c6bc/label_anatomy_channels.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">label_anatomy_channels.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/e53edeef6833639e6bc4b416a8c2ca8a/label_anatomy_channels.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">label_anatomy_channels.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2021-2021, seek_localize Developers. Last updated on 2021-02-22.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>